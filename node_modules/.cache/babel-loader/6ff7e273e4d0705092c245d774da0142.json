{"remainingRequest":"/home/four/daoconsensus/node_modules/babel-loader/lib/index.js!/home/four/daoconsensus/node_modules/eslint-loader/index.js??ref--13-0!/home/four/daoconsensus/src/store/auth.js","dependencies":[{"path":"/home/four/daoconsensus/src/store/auth.js","mtime":1616129256000},{"path":"/home/four/daoconsensus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/four/daoconsensus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/four/daoconsensus/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2ZvdXIvZGFvY29uc2Vuc3VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlL2FwcCc7CmV4cG9ydCBkZWZhdWx0IHsKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgX3JlZjIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCBlbWFpbCwgcGFzc3dvcmQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBlbWFpbCA9IF9yZWYyLmVtYWlsLCBwYXNzd29yZCA9IF9yZWYyLnBhc3N3b3JkOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0RXJyb3InLCBfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNvbW1pdCgnY2xlYXJJbmZvJyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNpZ25VcDogZnVuY3Rpb24gc2lnblVwKF9yZWY0LCBfcmVmNSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIGNvbW1pdCwgZW1haWwsIHBhc3N3b3JkLCBuYW1lLCBhZGRyZXNzLCBwaywgcmVmLCB1aWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjQuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICAgIGVtYWlsID0gX3JlZjUuZW1haWwsIHBhc3N3b3JkID0gX3JlZjUucGFzc3dvcmQsIG5hbWUgPSBfcmVmNS5uYW1lLCBhZGRyZXNzID0gX3JlZjUuYWRkcmVzcywgcGsgPSBfcmVmNS5waywgcmVmID0gX3JlZjUucmVmOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmF1dGgoKS5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdnZXRVaWQnKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgdWlkID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCIvdXNlcnMvIi5jb25jYXQodWlkLCAiL2luZm8iKSkuc2V0KHsKICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcywKICAgICAgICAgICAgICAgICAgcGs6IHBrLAogICAgICAgICAgICAgICAgICByZWY6IHJlZgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRFcnJvcicsIF9jb250ZXh0My50MCk7CiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDMudDA7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMiwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVpZDogZnVuY3Rpb24gZ2V0VWlkKCkgewogICAgICB2YXIgdXNlciA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjsKICAgICAgcmV0dXJuIHVzZXIgPyB1c2VyLnVpZCA6IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/four/daoconsensus/src/store/auth.js"],"names":["firebase","actions","login","commit","email","password","auth","signInWithEmailAndPassword","logout","signOut","signUp","dispatch","name","address","pk","ref","createUserWithEmailAndPassword","uid","database","set","getUid","user","currentUser"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,eAAe;AACXC,EAAAA,OAAO,EAAE;AACCC,IAAAA,KADD,8BACwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA/BC,gBAAAA,MAA+B,QAA/BA,MAA+B;AAAnBC,gBAAAA,KAAmB,SAAnBA,KAAmB,EAAZC,QAAY,SAAZA,QAAY;AAAA;AAAA;AAAA,uBAE/BL,QAAQ,CAACM,IAAT,GAAgBC,0BAAhB,CAA2CH,KAA3C,EAAkDC,QAAlD,CAF+B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIrCF,gBAAAA,MAAM,CAAC,UAAD,cAAN;AAJqC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO5C,KARI;AASCK,IAAAA,MATD,yBASoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVL,gBAAAA,MAAU,SAAVA,MAAU;AAAA;AAAA,uBACfH,QAAQ,CAACM,IAAT,GAAgBG,OAAhB,EADe;;AAAA;AAErBN,gBAAAA,MAAM,CAAC,WAAD,CAAN;;AAFqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGxB,KAZI;AAaCO,IAAAA,MAbD,gCAa2E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjEC,gBAAAA,QAAiE,SAAjEA,QAAiE,EAAvDR,MAAuD,SAAvDA,MAAuD;AAA3CC,gBAAAA,KAA2C,SAA3CA,KAA2C,EAApCC,QAAoC,SAApCA,QAAoC,EAA1BO,IAA0B,SAA1BA,IAA0B,EAApBC,OAAoB,SAApBA,OAAoB,EAAXC,EAAW,SAAXA,EAAW,EAAPC,GAAO,SAAPA,GAAO;AAAA;AAAA;AAAA,uBAElEf,QAAQ,CAACM,IAAT,GAAgBU,8BAAhB,CAA+CZ,KAA/C,EAAsDC,QAAtD,CAFkE;;AAAA;AAAA;AAAA,uBAGtDM,QAAQ,CAAC,QAAD,CAH8C;;AAAA;AAGlEM,gBAAAA,GAHkE;AAAA;AAAA,uBAIlEjB,QAAQ,CAACkB,QAAT,GAAoBH,GAApB,kBAAkCE,GAAlC,YAA8CE,GAA9C,CAAkD;AACpDP,kBAAAA,IAAI,EAAJA,IADoD;AAEpDC,kBAAAA,OAAO,EAAPA,OAFoD;AAGpDC,kBAAAA,EAAE,EAAFA,EAHoD;AAIpDC,kBAAAA,GAAG,EAAHA;AAJoD,iBAAlD,CAJkE;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAWxEZ,gBAAAA,MAAM,CAAC,UAAD,eAAN;AAXwE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAc/E,KA3BI;AA4BLiB,IAAAA,MA5BK,oBA4BI;AACL,UAAMC,IAAI,GAAGrB,QAAQ,CAACM,IAAT,GAAgBgB,WAA7B;AACA,aAAOD,IAAI,GAAGA,IAAI,CAACJ,GAAR,GAAc,IAAzB;AACH;AA/BI;AADE,CAAf","sourcesContent":["import firebase from 'firebase/app'\r\nexport default {\r\n    actions: {\r\n        async login({ commit }, { email, password }) {\r\n            try {\r\n                await firebase.auth().signInWithEmailAndPassword(email, password)\r\n            } catch (e) {\r\n                commit('setError', e)\r\n                throw e\r\n            }\r\n        },\r\n        async logout({ commit }) {\r\n            await firebase.auth().signOut()\r\n            commit('clearInfo')\r\n        },\r\n        async signUp({ dispatch, commit }, { email, password, name, address, pk, ref }) {\r\n            try {\r\n                await firebase.auth().createUserWithEmailAndPassword(email, password)\r\n                const uid = await dispatch('getUid')\r\n                await firebase.database().ref(`/users/${uid}/info`).set({\r\n                    name,\r\n                    address,\r\n                    pk,\r\n                    ref\r\n                })\r\n            } catch (e) {\r\n                commit('setError', e)\r\n                throw e\r\n            }\r\n        },\r\n        getUid() {\r\n            const user = firebase.auth().currentUser\r\n            return user ? user.uid : null\r\n        }\r\n    }\r\n}"]}]}