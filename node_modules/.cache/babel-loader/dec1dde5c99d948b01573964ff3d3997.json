{"remainingRequest":"/home/four/daoconsensus/node_modules/babel-loader/lib/index.js!/home/four/daoconsensus/node_modules/eslint-loader/index.js??ref--13-0!/home/four/daoconsensus/src/store/info.js","dependencies":[{"path":"/home/four/daoconsensus/src/store/info.js","mtime":1616088049000},{"path":"/home/four/daoconsensus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/four/daoconsensus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/four/daoconsensus/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2ZvdXIvZGFvY29uc2Vuc3VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UvYXBwJzsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiB7CiAgICBpbmZvOiB7fQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRJbmZvOiBmdW5jdGlvbiBzZXRJbmZvKHN0YXRlLCBpbmZvKSB7CiAgICAgIHN0YXRlLmluZm8gPSBpbmZvOwogICAgfSwKICAgIGNsZWFySW5mbzogZnVuY3Rpb24gY2xlYXJJbmZvKHN0YXRlKSB7CiAgICAgIHN0YXRlLmluZm8gPSB7fTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGZldGNoSW5mbzogZnVuY3Rpb24gZmV0Y2hJbmZvKF9yZWYpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIGNvbW1pdCwgdWlkLCBpbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdnZXRVaWQnKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdWlkID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCIvdXNlcnMvIi5jb25jYXQodWlkLCAiL2luZm8iKSkub25jZSgndmFsdWUnKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgaW5mbyA9IF9jb250ZXh0LnNlbnQudmFsKCk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldEluZm8nLCBpbmZvKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaW5mbzogZnVuY3Rpb24gaW5mbyhzKSB7CiAgICAgIHJldHVybiBzLmluZm87CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/four/daoconsensus/src/store/info.js"],"names":["firebase","state","info","mutations","setInfo","clearInfo","actions","fetchInfo","dispatch","commit","uid","database","ref","once","val","getters","s"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,eAAe;AACXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAE;AADH,GADI;AAIXC,EAAAA,SAAS,EAAE;AACPC,IAAAA,OADO,mBACCH,KADD,EACQC,IADR,EACc;AACjBD,MAAAA,KAAK,CAACC,IAAN,GAAaA,IAAb;AACH,KAHM;AAIPG,IAAAA,SAJO,qBAIGJ,KAJH,EAIU;AACbA,MAAAA,KAAK,CAACC,IAAN,GAAa,EAAb;AACH;AANM,GAJA;AAYXI,EAAAA,OAAO,EAAE;AACCC,IAAAA,SADD,2BACiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAApBC,gBAAAA,QAAoB,QAApBA,QAAoB,EAAVC,MAAU,QAAVA,MAAU;AAAA;AAAA;AAAA,uBAEZD,QAAQ,CAAC,QAAD,CAFI;;AAAA;AAExBE,gBAAAA,GAFwB;AAAA;AAAA,uBAGVV,QAAQ,CAACW,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,YAA8CG,IAA9C,CAAmD,OAAnD,CAHU;;AAAA;AAGxBX,gBAAAA,IAHwB,iBAGmDY,GAHnD;AAI9BL,gBAAAA,MAAM,CAAC,SAAD,EAAYP,IAAZ,CAAN;AAJ8B;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQrC;AATI,GAZE;AAuBXa,EAAAA,OAAO,EAAE;AACLb,IAAAA,IAAI,EAAE,cAAAc,CAAC;AAAA,aAAIA,CAAC,CAACd,IAAN;AAAA;AADF;AAvBE,CAAf","sourcesContent":["import firebase from 'firebase/app'\r\nexport default {\r\n    state: {\r\n        info: {}\r\n    },\r\n    mutations: {\r\n        setInfo(state, info) {\r\n            state.info = info\r\n        },\r\n        clearInfo(state) {\r\n            state.info = {}\r\n        }\r\n    },\r\n    actions: {\r\n        async fetchInfo({ dispatch, commit }) {\r\n            try {\r\n                const uid = await dispatch('getUid')\r\n                const info = (await firebase.database().ref(`/users/${uid}/info`).once('value')).val()\r\n                commit('setInfo', info)\r\n            } catch (e) {\r\n\r\n            }\r\n        }\r\n    },\r\n    getters: {\r\n        info: s => s.info\r\n    }\r\n}"]}]}