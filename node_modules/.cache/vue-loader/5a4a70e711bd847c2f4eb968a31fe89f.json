{"remainingRequest":"/home/four/daoconsensus/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/four/decen/src/components/app/NavBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/four/decen/src/components/app/NavBar.vue","mtime":1614879639140},{"path":"/home/four/daoconsensus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/four/daoconsensus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/four/daoconsensus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/four/daoconsensus/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGE6ICgpID0+ICh7DQogICAgZGF0ZTogbmV3IERhdGUoKSwNCiAgICBpbnRlcnZhbDogbnVsbCwNCiAgICBkcm9wZG93bjogbnVsbA0KICB9KSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGxvZ291dCgpew0KICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ291dCcpDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luP21lc3NhZ2U9bG9nb3V0JykNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgbmFtZSgpew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuaW5mby5uYW1lDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCl7DQogICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCkNCiAgICB9LCAxMDAwKQ0KICAgIHRoaXMuZHJvcGRvd24gPSBNLkRyb3Bkb3duLmluaXQodGhpcy4kcmVmcy5kcm9wZG93biwgew0KICAgICAgY29uc3RyYWluV2lkdGg6IHRydWUNCiAgICB9KQ0KICB9LA0KICBiZWZvcmVEZXN0cm95KCl7DQogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKQ0KICAgIGlmKHRoaXMuZHJvcGRvd24gJiYgdGhpcy5kcm9wZG93bi5kZXN0cm95KXsNCiAgICAgIHRoaXMuZHJvcGRvd24uZGVzdHJveSgpDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["NavBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NavBar.vue","sourceRoot":"../decen/src/components/app","sourcesContent":["<template>\r\n    <nav class=\"navbar blue-grey darken-4\">\r\n        <div class=\"nav-wrapper\">\r\n          <div class=\"navbar-left\">\r\n            <a href=\"#\" @click.prevent=\"$emit('click')\">\r\n              <i class=\"material-icons white-text\">dehaze</i>\r\n            </a>\r\n            <span class=\"white-text\">{{date | date('datetime')}}</span>\r\n          </div>\r\n\r\n          <ul class=\"right hide-on-small-and-down\">\r\n            <li>\r\n              <a\r\n                  class=\"dropdown-trigger white-text\"\r\n                  href=\"#\"\r\n                  data-target=\"dropdown\"\r\n                  ref=\"dropdown\"\r\n              >\r\n                {{name}}{{name}}\r\n                <i class=\"material-icons right\">arrow_drop_down</i>\r\n              </a>\r\n\r\n              <ul id='dropdown' class='dropdown-content blue-grey darken-4'>\r\n                <li>\r\n                  <router-link to=\"/profile\" class=\"white-text\">\r\n                    <i class=\"material-icons\">account_circle</i>Профиль\r\n                  </router-link>\r\n                </li>\r\n                <li class=\"divider\" tabindex=\"-1\"></li>\r\n                <li>\r\n                  <a href=\"#\" class=\"white-text\" @click.prevent=\"logout\">\r\n                    <i class=\"material-icons\">assignment_return</i>Выйти\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    date: new Date(),\r\n    interval: null,\r\n    dropdown: null\r\n  }),\r\n  methods: {\r\n    async logout(){\r\n      await this.$store.dispatch('logout')\r\n      this.$router.push('/login?message=logout')\r\n    }\r\n  },\r\n  computed: {\r\n    name(){\r\n      return this.$store.getters.info.name\r\n    }\r\n  },\r\n  mounted(){\r\n    this.interval = setInterval(() => {\r\n      this.date = new Date()\r\n    }, 1000)\r\n    this.dropdown = M.Dropdown.init(this.$refs.dropdown, {\r\n      constrainWidth: true\r\n    })\r\n  },\r\n  beforeDestroy(){\r\n    clearInterval(this.interval)\r\n    if(this.dropdown && this.dropdown.destroy){\r\n      this.dropdown.destroy()\r\n    }\r\n  }\r\n}\r\n</script>"]}]}