{"remainingRequest":"/home/four/daoconsensus/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/four/daoconsensus/src/views/Referals.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/four/daoconsensus/src/views/Referals.vue","mtime":1616496291000},{"path":"/home/four/daoconsensus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/four/daoconsensus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/four/daoconsensus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/four/daoconsensus/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUcm9uV2ViIGZyb20gJ3Ryb253ZWInCi8vaW1wb3J0IFRyb25HcmlkIGZyb20gJ3Ryb25ncmlkJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6ICgpID0+ICh7CiAgICBmdWxsTm9kZTogImh0dHBzOi8vYXBpLnNoYXN0YS50cm9uZ3JpZC5pbyIsCiAgICBzb2xpZGl0eU5vZGU6ICJodHRwczovL2FwaS5zaGFzdGEudHJvbmdyaWQuaW8iLAogICAgZXZlbnRTZXJ2ZXI6ICJodHRwczovL2FwaS5zaGFzdGEudHJvbmdyaWQuaW8iLAogICAgcHJpdmF0ZUtleTogJzc5NWIwMDYwZDI4MzIwZDAzNDhkYjRkOWFiZmViZTY2MjkwMzRkZTAzYzExYTE1Y2VjODY5NWNmMzY0NjMwMmEnLAogICAgLy90cmMyMENvbnRyYWN0QWRkcmVzczogIlRGOTR1YkRRbzJjUDc4VXR4NGVFb3RwNGl5QmVCd053cEIiLCAvLyJUUjdOSHFqZUtReEdUQ2k4cThaWTRwTDhvdFN6Z2pMajZ0IiwKICAgIHRyOiB0cnVlLAogICAgZGVjaW1hbHM6IDEwMDAwMDAsCiAgICBmdW5kczogWwogICAgICB7CiAgICAgICAgbmFtZTogJzMwJSBEQU8gRnVuZCcsCiAgICAgICAgYWRkcjogbnVsbCwKICAgICAgICBiYWxhbmNlOiAwLAogICAgICAgIHQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBuYW1lOiAnMjYlIFBhcnRuZXIgcHJvZ3JhbSBTdGVwIHVwJywKICAgICAgICBhZGRyOiBudWxsLAogICAgICAgIGJhbGFuY2U6IDAsCiAgICAgICAgdDogZmFsc2UKICAgICAgfSwKICAgICAgewogICAgICAgIG5hbWU6ICcyNCUgREFPIG1hcmtldGluZyBVbmlsZXZlbCcsCiAgICAgICAgYWRkcjogbnVsbCwKICAgICAgICBiYWxhbmNlOiAwLAogICAgICAgIHQ6IHRydWUKICAgICAgfSwKICAgICAgewogICAgICAgIG5hbWU6ICcxMCUgTWFya2V0IGxpcXVpZGl0eSBzdXBwb3J0JywKICAgICAgICBhZGRyOiBudWxsLAogICAgICAgIGJhbGFuY2U6IDAsCiAgICAgICAgdDogZmFsc2UKICAgICAgfSwKICAgICAgewogICAgICAgIG5hbWU6ICcxMCUgUHJvamVjdCB0ZWFtJywKICAgICAgICBhZGRyOiBudWxsLAogICAgICAgIGJhbGFuY2U6IDAsCiAgICAgICAgdDogZmFsc2UKICAgICAgfQogICAgXQogIH0pLAogIGFzeW5jIG1vdW50ZWQoKXsKICAgIGNvbnN0IHRyb25XZWIgPSBuZXcgVHJvbldlYih0aGlzLmZ1bGxOb2RlLCB0aGlzLnNvbGlkaXR5Tm9kZSwgdGhpcy5ldmVudFNlcnZlciwgdGhpcy5wcml2YXRlS2V5KQogICAgLy9jb25zdCB0cm9uR3JpZCA9IG5ldyBUcm9uR3JpZCh0cm9uV2ViKQogICAgY29uc3QgY29udHJhY3QgPSBhd2FpdCB0cm9uV2ViLmNvbnRyYWN0KCkuYXQoIlRZanNhTDRCaXNaM1ZNS0dNdGk0eVN2aEJVWUF5QzE0VGMiKQoKICAgIC8vY29uc29sZS5sb2coYXdhaXQgdHJvbkdyaWQuYWNjb3VudC5nZXQodGhpcy5mb25kc1szXS5hZGRyLCB7fSkpCgogICAgY29uc3QgY29udHJhY3RBZGRyID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NvbnRyYWN0RGF0YScpCiAgICB0aGlzLmZ1bmRzWzBdLmFkZHIgPSBjb250cmFjdEFkZHIuZnVuZHMuZjFhCiAgICB0aGlzLmZ1bmRzWzFdLmFkZHIgPSBjb250cmFjdEFkZHIuZnVuZHMuZjRhCiAgICB0aGlzLmZ1bmRzWzNdLmFkZHIgPSBjb250cmFjdEFkZHIuZnVuZHMuZjJhCiAgICB0aGlzLmZ1bmRzWzRdLmFkZHIgPSBjb250cmFjdEFkZHIuZnVuZHMuZjRhCgogICAgdGhpcy5mdW5kc1syXS5hZGRyID0gMAoKICAgIHdoaWxlKHRoaXMudHIpewogICAgICAgIHRoaXMuZnVuZHNbMF0uYmFsYW5jZSA9IChhd2FpdCBjb250cmFjdC5iYWxhbmNlT2YodGhpcy5mdW5kc1swXS5hZGRyKS5jYWxsKCkgLyB0aGlzLmRlY2ltYWxzKS50b0ZpeGVkKDIpCiAgICAgICAgdGhpcy5mdW5kc1sxXS5iYWxhbmNlID0gKGF3YWl0IGNvbnRyYWN0LmJhbGFuY2VPZih0aGlzLmZ1bmRzWzFdLmFkZHIpLmNhbGwoKSAvIHRoaXMuZGVjaW1hbHMpLnRvRml4ZWQoMikKICAgICAgICAvL3RoaXMuZm9uZHNbMl0uYmFsYW5jZSA9IChhd2FpdCBjb250cmFjdC5iYWxhbmNlT2YodGhpcy5mb25kc1syXS5hZGRyKS5jYWxsKCkgLyB0aGlzLmRlY2ltYWxzKS50b0ZpeGVkKDIpCiAgICAgICAgdGhpcy5mdW5kc1szXS5iYWxhbmNlID0gKGF3YWl0IGNvbnRyYWN0LmJhbGFuY2VPZih0aGlzLmZ1bmRzWzNdLmFkZHIpLmNhbGwoKSAvIHRoaXMuZGVjaW1hbHMpLnRvRml4ZWQoMikKICAgICAgICB0aGlzLmZ1bmRzWzRdLmJhbGFuY2UgPSAoYXdhaXQgY29udHJhY3QuYmFsYW5jZU9mKHRoaXMuZnVuZHNbNF0uYWRkcikuY2FsbCgpIC8gdGhpcy5kZWNpbWFscykudG9GaXhlZCgyKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Referals.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Referals.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <p class=\"text-h5\">\r\n      Фонды\r\n    </p>\r\n    <v-simple-table maxWidth=\"100%\">\r\n      <template v-slot:default>\r\n        <thead class=\"blue darken-2\">\r\n          <tr>\r\n            <th class=\"text-left white--text\">\r\n              Название<br>Адрес\r\n            </th>\r\n            <th class=\"text-left white--text\">\r\n              Баланс\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr\r\n          v-for=\"fund in funds\"\r\n          :key=\"fund.name\"\r\n          >\r\n            <td>\r\n              <span class=\"text-subtitle-2\">{{ fund.name }}</span>\r\n              <br>\r\n              <router-link v-if=\"fund.t\" to=\"/network\">посмотреть распределение по сети</router-link>\r\n              <span class=\"text-caption\" v-else>{{ fund.addr }}</span>\r\n            </td>\r\n            <td class=\"text-caption\">{{ fund.balance }} USDT</td>\r\n          </tr>\r\n        </tbody>\r\n      </template>\r\n    </v-simple-table>\r\n    <!--p class=\"text-h5\">\r\n      История входящих транзакций\r\n    </p>\r\n    <v-simple-table maxWidth=\"100%\">\r\n      <template v-slot:default>\r\n        <thead class=\"blue darken-2\">\r\n          <tr>\r\n            <th class=\"text-left white--text\">\r\n              Адрес\r\n            </th>\r\n            <th class=\"text-left white--text\">\r\n              Сумма\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          \r\n          <tr\r\n          v-for=\"fond in fonds\"\r\n          :key=\"fond.name\"\r\n          >\r\n            <td class=\"text-caption\">{{ fond.name }}<br>{{ fond.addr }}</td>\r\n            <td class=\"text-caption\">{{ fond.balance }} TRX</td>\r\n          </tr>\r\n        \r\n        </tbody>\r\n      </template>\r\n    </v-simple-table-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TronWeb from 'tronweb'\r\n  //import TronGrid from 'trongrid'\r\n\r\n  export default {\r\n    data: () => ({\r\n      fullNode: \"https://api.shasta.trongrid.io\",\r\n      solidityNode: \"https://api.shasta.trongrid.io\",\r\n      eventServer: \"https://api.shasta.trongrid.io\",\r\n      privateKey: '795b0060d28320d0348db4d9abfebe6629034de03c11a15cec8695cf3646302a',\r\n      //trc20ContractAddress: \"TF94ubDQo2cP78Utx4eEotp4iyBeBwNwpB\", //\"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t\",\r\n      tr: true,\r\n      decimals: 1000000,\r\n      funds: [\r\n        {\r\n          name: '30% DAO Fund',\r\n          addr: null,\r\n          balance: 0,\r\n          t: false\r\n        },\r\n        {\r\n          name: '26% Partner program Step up',\r\n          addr: null,\r\n          balance: 0,\r\n          t: false\r\n        },\r\n        {\r\n          name: '24% DAO marketing Unilevel',\r\n          addr: null,\r\n          balance: 0,\r\n          t: true\r\n        },\r\n        {\r\n          name: '10% Market liquidity support',\r\n          addr: null,\r\n          balance: 0,\r\n          t: false\r\n        },\r\n        {\r\n          name: '10% Project team',\r\n          addr: null,\r\n          balance: 0,\r\n          t: false\r\n        }\r\n      ]\r\n    }),\r\n    async mounted(){\r\n      const tronWeb = new TronWeb(this.fullNode, this.solidityNode, this.eventServer, this.privateKey)\r\n      //const tronGrid = new TronGrid(tronWeb)\r\n      const contract = await tronWeb.contract().at(\"TYjsaL4BisZ3VMKGMti4ySvhBUYAyC14Tc\")\r\n\r\n      //console.log(await tronGrid.account.get(this.fonds[3].addr, {}))\r\n\r\n      const contractAddr = await this.$store.dispatch('contractData')\r\n      this.funds[0].addr = contractAddr.funds.f1a\r\n      this.funds[1].addr = contractAddr.funds.f4a\r\n      this.funds[3].addr = contractAddr.funds.f2a\r\n      this.funds[4].addr = contractAddr.funds.f4a\r\n\r\n      this.funds[2].addr = 0\r\n\r\n      while(this.tr){\r\n          this.funds[0].balance = (await contract.balanceOf(this.funds[0].addr).call() / this.decimals).toFixed(2)\r\n          this.funds[1].balance = (await contract.balanceOf(this.funds[1].addr).call() / this.decimals).toFixed(2)\r\n          //this.fonds[2].balance = (await contract.balanceOf(this.fonds[2].addr).call() / this.decimals).toFixed(2)\r\n          this.funds[3].balance = (await contract.balanceOf(this.funds[3].addr).call() / this.decimals).toFixed(2)\r\n          this.funds[4].balance = (await contract.balanceOf(this.funds[4].addr).call() / this.decimals).toFixed(2)\r\n      }\r\n    }\r\n  }\r\n</script>"]}]}